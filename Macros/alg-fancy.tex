% !TEX root = ../main.tex
%------------------------Fancy Protocol----------------------%

\usepackage[framemethod=default]{mdframed}
\usepackage{tikz}

\newcounter{protocol}[section]
\newenvironment{protocol}[1][]{
\stepcounter{protocol}
\mdfsetup{
     frametitle={
       \tikz[baseline=(current bounding box.east),outer sep=0pt]
        \node[anchor=east,rectangle,fill=blue!20]
        {\strut Protocol~\theprotocol:~#1};}}
\mdfsetup{innertopmargin=10pt,linecolor=blue!20,
             linewidth=2pt,topline=true,
            frametitleaboveskip=\dimexpr-\ht\strutbox\relax,}
   \begin{mdframed}[]\relax
   }{\end{mdframed}}